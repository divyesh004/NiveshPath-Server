# Mistral AI मॉडल परीक्षण और प्रदर्शन विश्लेषण

इस दस्तावेज़ में Mistral AI के विभिन्न मॉडलों के बीच प्रदर्शन और लागत का तुलनात्मक विश्लेषण किया गया है, जिससे NiveshPath के लिए सबसे उपयुक्त मॉडल का चयन किया जा सके।

## उपलब्ध मॉडल

Mistral AI वर्तमान में निम्नलिखित मॉडल प्रदान करता है:

| मॉडल | विशेषताएँ | अनुमानित लागत |
|------|----------|---------------|
| mistral-tiny | सबसे छोटा और तेज़ मॉडल, बुनियादी कार्यों के लिए उपयुक्त | सबसे कम |
| mistral-small | संतुलित प्रदर्शन, अधिकांश वित्तीय सलाह कार्यों के लिए पर्याप्त | मध्यम |
| mistral-medium | उन्नत क्षमताएँ, जटिल वित्तीय विश्लेषण के लिए उपयुक्त | उच्च |
| mistral-large | सर्वोत्तम प्रदर्शन, अत्यधिक जटिल वित्तीय सलाह के लिए | सर्वाधिक |

## परीक्षण परिदृश्य

निम्नलिखित परिदृश्यों में प्रत्येक मॉडल का परीक्षण किया जाना चाहिए:

1. **बुनियादी वित्तीय प्रश्न**: सरल वित्तीय अवधारणाओं और शब्दावली पर प्रश्न
2. **निवेश सलाह**: विभिन्न निवेश विकल्पों के बीच तुलना और सिफारिशें
3. **व्यक्तिगत वित्तीय योजना**: उपयोगकर्ता प्रोफाइल के आधार पर व्यक्तिगत वित्तीय सलाह
4. **कर योजना**: भारतीय कर कानूनों और बचत विकल्पों पर सलाह
5. **द्विभाषी क्षमता**: हिंदी और अंग्रेजी दोनों में प्रश्नों के उत्तर देने की क्षमता

## परीक्षण मापदंड

प्रत्येक मॉडल का मूल्यांकन निम्नलिखित मापदंडों पर किया जाएगा:

1. **उत्तर की सटीकता**: वित्तीय जानकारी की सटीकता और प्रासंगिकता
2. **प्रतिक्रिया समय**: प्रश्न भेजने से उत्तर प्राप्त करने तक का समय
3. **टोकन उपयोग**: प्रति प्रश्न औसत टोकन उपयोग (इनपुट और आउटपुट)
4. **लागत प्रभावशीलता**: प्रदर्शन के अनुपात में लागत
5. **भाषा क्षमता**: हिंदी और अंग्रेजी दोनों में प्रतिक्रिया की गुणवत्ता

## परीक्षण प्रक्रिया

1. प्रत्येक परिदृश्य के लिए 5-10 प्रश्नों का एक सेट तैयार करें
2. प्रत्येक मॉडल के साथ समान प्रश्न सेट का उपयोग करें
3. प्रतिक्रिया समय, टोकन उपयोग और लागत को रिकॉर्ड करें
4. उत्तरों की गुणवत्ता का मूल्यांकन करने के लिए मानवीय समीक्षा करें

## मॉडल चयन के लिए कार्यान्वयन

परीक्षण के बाद, आप `process.env.MISTRAL_MODEL` पर्यावरण चर का उपयोग करके मॉडल को कॉन्फ़िगर कर सकते हैं:

```javascript
// .env फ़ाइल में
MISTRAL_MODEL=mistral-medium  // या परीक्षण के बाद चुना गया कोई अन्य मॉडल

// chatbot.controller.js में पहले से ही अपडेट किया गया है:
model: process.env.MISTRAL_MODEL || 'mistral-medium',
```

## अनुशंसित परीक्षण योजना

1. प्रारंभिक परीक्षण के लिए `mistral-small` से शुरू करें (संतुलित प्रदर्शन/लागत)
2. यदि प्रदर्शन अपर्याप्त है, तो `mistral-medium` पर अपग्रेड करें
3. केवल अत्यधिक जटिल वित्तीय सलाह के लिए `mistral-large` का उपयोग करें
4. बहुत सरल कार्यों के लिए `mistral-tiny` का परीक्षण करें (लागत बचत के लिए)

## परिणामों का दस्तावेजीकरण

परीक्षण के बाद, इस दस्तावेज़ को अपडेट करें और निम्नलिखित प्रारूप में परिणामों को शामिल करें:

```
### परीक्षण परिणाम (तिथि)

| मॉडल | औसत प्रतिक्रिया समय | औसत टोकन उपयोग | अनुमानित लागत/1000 प्रश्न | उत्तर गुणवत्ता स्कोर (1-10) | त्रुटि दर (%) |
|------|-------------------|----------------|------------------------|-------------------------|-------------|
| mistral-tiny | X ms | X | $X | X | X |
| mistral-small | X ms | X | $X | X | X |
| mistral-medium | X ms | X | $X | X | X |
| mistral-large | X ms | X | $X | X | X |

#### प्रदर्शन विश्लेषण
[प्रत्येक मॉडल के प्रदर्शन का विस्तृत विश्लेषण]

#### त्रुटि प्रबंधन प्रभावशीलता
[प्रत्येक मॉडल के त्रुटि प्रबंधन की प्रभावशीलता का विश्लेषण]

#### निष्कर्ष
[परीक्षण के आधार पर अंतिम अनुशंसा]
```

## त्रुटि प्रबंधन सुधार

Mistral API के साथ एकीकरण में त्रुटि प्रबंधन को बेहतर बनाने के लिए निम्नलिखित सुधार किए जाने चाहिए:

1. **विशिष्ट त्रुटि संदेश**:
   - API कॉल विफलताओं के लिए अधिक विशिष्ट त्रुटि संदेश जोड़ें
   - विभिन्न HTTP स्थिति कोड (401, 403, 429, 500, आदि) के लिए अलग-अलग संदेश प्रदान करें
   - त्रुटि संदेशों को हिंदी और अंग्रेजी दोनों में प्रदान करें

2. **फॉलबैक प्रतिक्रियाएं**:
   - API विफलता के मामले में उपयोगकर्ता को उपयोगी फॉलबैक प्रतिक्रियाएं प्रदान करें
   - सामान्य वित्तीय प्रश्नों के लिए पूर्व-निर्धारित उत्तर तैयार रखें
   - उपयोगकर्ता को पुनः प्रयास करने के लिए स्पष्ट निर्देश दें

3. **त्रुटि लॉगिंग और निगरानी**:
   - सभी API त्रुटियों का विस्तृत लॉगिंग सुनिश्चित करें
   - त्रुटि पैटर्न की पहचान के लिए निगरानी प्रणाली स्थापित करें
   - बार-बार होने वाली त्रुटियों के लिए स्वचालित अलर्ट सेट करें

## प्रदर्शन अनुकूलन

Mistral API के साथ एकीकरण के प्रदर्शन को अनुकूलित करने के लिए निम्नलिखित रणनीतियां अपनाई जा सकती हैं:

1. **प्रॉम्प्ट अनुकूलन**:
   - लंबे प्रॉम्प्ट्स को छोटा करें जहां संभव हो
   - अनावश्यक संदर्भ जानकारी को हटाकर टोकन उपयोग को कम करें
   - प्रॉम्प्ट में केवल प्रासंगिक उपयोगकर्ता प्रोफाइल जानकारी शामिल करें

2. **कैशिंग रणनीति**:
   - सामान्य प्रश्नों के उत्तरों को कैश करें
   - उपयोगकर्ता-विशिष्ट जानकारी के बिना सामान्य वित्तीय जानकारी के लिए कैशिंग लागू करें
   - कैश की गई प्रतिक्रियाओं के लिए TTL (Time-to-Live) सेट करें

3. **बैच प्रसंस्करण**:
   - जहां उपयुक्त हो, एकल API कॉल में कई प्रश्नों को संसाधित करें
   - पूर्व-गणना और पूर्व-प्रसंस्करण के माध्यम से API कॉल की आवृत्ति को कम करें

## द्विभाषी क्षमता परीक्षण

Mistral मॉडल की द्विभाषी क्षमता का मूल्यांकन करने के लिए निम्नलिखित परीक्षण किए जाने चाहिए:

1. **भाषा पहचान**:
   - हिंदी, अंग्रेजी और मिश्रित भाषा प्रश्नों के साथ परीक्षण करें
   - मॉडल की भाषा पहचान सटीकता का मूल्यांकन करें

2. **अनुवाद गुणवत्ता**:
   - वित्तीय शब्दावली के अनुवाद की सटीकता का परीक्षण करें
   - हिंदी में तकनीकी वित्तीय अवधारणाओं की व्याख्या की गुणवत्ता का मूल्यांकन करें

3. **भाषा स्विचिंग**:
   - एक ही वार्तालाप में भाषा परिवर्तन के साथ परीक्षण करें
   - मॉडल की भाषा स्विचिंग क्षमता का मूल्यांकन करें

## प्रॉम्प्ट अनुकूलन सुझाव

Mistral API के लिए प्रॉम्प्ट अनुकूलन में निम्नलिखित सुधार शामिल किए जा सकते हैं:

1. **भाषा निर्देश**:
   - हिंदी और अंग्रेजी दोनों भाषाओं में प्रतिक्रियाओं के लिए स्पष्ट निर्देश जोड़ें
   - प्रश्न की भाषा के आधार पर प्रतिक्रिया भाषा को स्वचालित रूप से समायोजित करें

2. **वित्तीय शब्दावली**:
   - भारतीय वित्तीय बाजार के लिए विशिष्ट शब्दावली निर्देश जोड़ें
   - म्यूचुअल फंड, स्टॉक, कराधान आदि के लिए सटीक शब्दावली का उपयोग सुनिश्चित करें

3. **प्रतिक्रिया प्रारूपण**:
   - तालिकाओं, बुलेट पॉइंट्स और पैराग्राफ के उपयोग के लिए स्पष्ट निर्देश जोड़ें
   - अधिकतम पठनीयता और स्पष्टता के लिए प्रतिक्रिया संरचना का अनुकूलन करें

## अतिरिक्त नोट्स

- विभिन्न समय पर परीक्षण करें (पीक और ऑफ-पीक समय)
- विभिन्न जटिलता स्तरों के प्रश्नों का परीक्षण करें
- उपयोगकर्ता प्रोफाइल की विविधता के साथ परीक्षण करें (आयु, आय, जोखिम प्रोफाइल)
- हिंदी और अंग्रेजी दोनों भाषाओं में परीक्षण करें
- त्रुटि प्रबंधन और फॉलबैक प्रतिक्रियाओं की प्रभावशीलता का मूल्यांकन करें

## त्रुटि प्रबंधन सुधार

Mistral API के साथ त्रुटि प्रबंधन को बेहतर बनाने के लिए निम्नलिखित सुधार किए जाने चाहिए:

1. **विशिष्ट त्रुटि संदेश**:
   - API कनेक्शन विफलता: "सर्वर से संपर्क करने में समस्या हुई, कृपया अपने इंटरनेट कनेक्शन की जांच करें"
   - प्रमाणीकरण त्रुटि: "API कुंजी अमान्य है, कृपया अपनी API कुंजी की जांच करें"
   - टोकन सीमा त्रुटि: "प्रश्न बहुत लंबा है, कृपया इसे छोटा करें"
   - सर्वर त्रुटि: "Mistral AI सेवा वर्तमान में अनुपलब्ध है, कृपया बाद में पुनः प्रयास करें"

2. **फॉलबैक प्रतिक्रियाएँ**:
   - सामान्य त्रुटि: "मुझे खेद है, मैं आपके प्रश्न का उत्तर देने में असमर्थ हूँ। कृपया अपने प्रश्न को पुनः तैयार करें या बाद में पुनः प्रयास करें।"
   - टाइमआउट त्रुटि: "प्रतिक्रिया प्राप्त करने में अधिक समय लग रहा है। कृपया अपने प्रश्न को छोटा करें या बाद में पुनः प्रयास करें।"
   - संदर्भ त्रुटि: "मुझे आपके प्रश्न के संदर्भ को समझने में कठिनाई हो रही है। कृपया अधिक विवरण प्रदान करें।"

## प्रदर्शन अनुकूलन

Mistral API के साथ प्रदर्शन को अनुकूलित करने के लिए निम्नलिखित रणनीतियाँ अपनाई जा सकती हैं:

1. **प्रॉम्प्ट अनुकूलन**:
   - प्रॉम्प्ट को 100-150 शब्दों तक सीमित करें
   - अनावश्यक विवरण और पुनरावृत्ति को हटाएँ
   - महत्वपूर्ण जानकारी को प्रॉम्प्ट के शुरू में रखें

2. **संदर्भ अनुकूलन**:
   - केवल प्रासंगिक उपयोगकर्ता प्रोफ़ाइल जानकारी शामिल करें
   - पिछले संवाद से केवल प्रासंगिक संदेश शामिल करें (अधिकतम 5)
   - लंबे संदेशों को संक्षिप्त करें

3. **कैशिंग रणनीति**:
   - समान प्रश्नों के लिए प्रतिक्रियाओं को कैश करें
   - सामान्य वित्तीय प्रश्नों के लिए पूर्व-निर्मित उत्तर तैयार रखें

## प्रॉम्प्ट अनुकूलन

Mistral API के लिए प्रॉम्प्ट को अनुकूलित करने के लिए निम्नलिखित निर्देश शामिल किए जाने चाहिए:

1. **भाषा निर्देश**:
   ```
   आपको उपयोगकर्ता के प्रश्न का उत्तर उसी भाषा में देना है जिसमें प्रश्न पूछा गया है (हिंदी या अंग्रेजी)। यदि प्रश्न हिंदी में है, तो उत्तर हिंदी में दें। यदि प्रश्न अंग्रेजी में है, तो उत्तर अंग्रेजी में दें।
   ```

2. **वित्तीय शब्दावली निर्देश**:
   ```
   आपको भारतीय वित्तीय बाजार के संदर्भ में सटीक वित्तीय शब्दावली का उपयोग करना है। म्यूचुअल फंड, स्टॉक, बॉन्ड, PPF, NPS, और अन्य भारतीय निवेश विकल्पों के लिए सही शब्दों का प्रयोग करें। जहां आवश्यक हो, हिंदी और अंग्रेजी दोनों में वित्तीय शब्दों को समझाएं।
   ```

3. **सरलीकरण निर्देश**:
   ```
   जटिल वित्तीय अवधारणाओं को सरल भाषा में समझाएं, विशेष रूप से नए निवेशकों के लिए। तकनीकी जार्गन का उपयोग कम से कम करें और जहां आवश्यक हो, उदाहरणों का उपयोग करें।
   ```

## अपडेट इतिहास

- **[तिथि]**: प्रारंभिक दस्तावेज़ तैयार किया गया
- **[तिथि]**: परीक्षण परिणाम जोड़े गए
- **[तिथि]**: अंतिम मॉडल अनुशंसा अपडेट की गई
- **[आज की तिथि]**: त्रुटि प्रबंधन, प्रदर्शन अनुकूलन, और प्रॉम्प्ट अनुकूलन के लिए सुधार जोड़े गए
- **[आज की तिथि]**: मॉडल परीक्षण के लिए स्क्रिप्ट (test-mistral-models.js) जोड़ी गई